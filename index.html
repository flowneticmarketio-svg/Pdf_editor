<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SHSSS Headlines - PDF Tools</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
  <style>
    /* === NVIDIA Style Base === */
    body {
      margin: 0;
      font-family: "Segoe UI", Roboto, sans-serif;
      background: #0c0c0c;
      color: #e0e0e0;
    }

    header {
      background: linear-gradient(90deg, #16c60c, #0a0a0a);
      padding: 1.2rem;
      text-align: center;
      font-size: 1.8rem;
      font-weight: bold;
      letter-spacing: 1px;
      color: #fff;
      text-shadow: 0 0 12px #16c60c;
    }

    .container {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 20px;
    }

    /* === Upload Guide Box === */
    .upload-box {
      border: 2px dashed #16c60c;
      background: #111;
      padding: 40px;
      text-align: center;
      border-radius: 16px;
      cursor: pointer;
      transition: 0.3s;
      margin-bottom: 30px;
    }
    .upload-box:hover {
      background: #161616;
      box-shadow: 0 0 20px #16c60c55;
    }
    .upload-box input {
      display: none;
    }
    .upload-box h2 {
      margin: 0;
      font-size: 1.4rem;
      color: #16c60c;
    }
    .upload-box p {
      font-size: 0.9rem;
      color: #aaa;
    }

    /* === Tools Card === */
    .tools {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }
    .tool-card {
      background: #141414;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 0 12px #000;
      transition: transform 0.2s;
    }
    .tool-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 20px #16c60c44;
    }
    .tool-card h3 {
      color: #16c60c;
      margin-top: 0;
    }

    /* === Buttons === */
    .btn {
      background: #16c60c;
      color: #000;
      border: none;
      padding: 12px 20px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1rem;
      margin-top: 10px;
      transition: 0.3s;
    }
    .btn:hover {
      background: #12a20a;
      box-shadow: 0 0 12px #16c60c;
    }

    /* === Progress Bar === */
    .progress-container {
      margin: 30px 0;
      height: 20px;
      background: #1a1a1a;
      border-radius: 12px;
      overflow: hidden;
    }
    .progress-bar {
      width: 0;
      height: 100%;
      background: linear-gradient(90deg, #16c60c, #0d7707);
      box-shadow: 0 0 10px #16c60c;
      transition: width 0.4s ease;
    }
    .progress-text {
      text-align: center;
      margin-top: 8px;
      font-size: 0.9rem;
      color: #aaa;
    }

    /* === Preview === */
    .preview {
      margin-top: 30px;
      text-align: center;
    }
    .preview iframe {
      width: 100%;
      height: 500px;
      border-radius: 12px;
      border: none;
      box-shadow: 0 0 12px #000;
    }

    /* === Footer === */
    footer {
      margin-top: 40px;
      text-align: center;
      font-size: 0.9rem;
      padding: 20px;
      background: #0a0a0a;
      border-top: 1px solid #16c60c33;
      color: #888;
    }
    footer span {
      color: #16c60c;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>SHSSS Headlines - PDF Tools</header>

  <div class="container">
    <!-- Upload Section -->
    <label class="upload-box">
      <input type="file" id="fileInput" multiple accept="application/pdf">
      <h2>üìÇ Upload or Drag & Drop PDFs</h2>
      <p>Click here or drop files to start editing your documents</p>
    </label>

    <!-- Tools -->
    <div class="tools">
      <div class="tool-card">
        <h3>Merge PDFs</h3>
        <p>Combine multiple PDF files into a single document.</p>
        <input type="checkbox" id="mergePDF"> Enable
      </div>

      <div class="tool-card">
        <h3>Split PDF</h3>
        <p>Split from a chosen page number.</p>
        <input type="checkbox" id="splitPDF"> Enable <br>
        <input type="number" id="splitPage" placeholder="Split from page..." min="2" style="margin-top:8px; padding:6px; width:100%; border-radius:8px; border:1px solid #333; background:#1a1a1a; color:#fff;">
      </div>

      <div class="tool-card">
        <h3>Invert Colors</h3>
        <p>Dark mode optimization with 3 intensity levels.</p>
        <input type="checkbox" id="invertColors"> Enable <br>
        <label><input type="radio" name="invertLevel" value="1" checked> Mild</label>
        <label><input type="radio" name="invertLevel" value="2"> Strong</label>
        <label><input type="radio" name="invertLevel" value="3"> Pure B/W</label>
      </div>

      <div class="tool-card">
        <h3>Page Layout</h3>
        <p>Place multiple pages into a single sheet.</p>
        <select id="multiplePages" style="width:100%; padding:8px; border-radius:8px; background:#1a1a1a; color:#fff; border:1px solid #333;">
          <option value="1">1 per page</option>
          <option value="2">2-in-1</option>
          <option value="4">4-in-1</option>
        </select>
      </div>
    </div>

    <!-- Process -->
    <button class="btn" onclick="pdfProcessor.process()">‚ö° Process PDF</button>

    <!-- Progress Bar -->
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="progress-text" id="progressText">Waiting...</div>

    <!-- Preview -->
    <div class="preview" id="preview"></div>
  </div>

  <footer>
    Powered by <span>Flovvnetic</span> | ¬© SHSSS Headlines
  </footer>

  <script>
    class PDFProcessor {
      constructor() {
        this.files = [];
        this.processedPDF = null;
        document.getElementById("fileInput").addEventListener("change", e => {
          this.files = Array.from(e.target.files);
        });
      }

      async process() {
        if (this.files.length === 0) {
          alert("Please upload at least one PDF!");
          return;
        }
        this.updateProgress(10, "Loading PDFs...");

        const pdfDocs = [];
        for (let i = 0; i < this.files.length; i++) {
          const arrayBuffer = await this.files[i].arrayBuffer();
          const pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer);
          pdfDocs.push(pdfDoc);
          this.updateProgress(10 + (i + 1) * 20 / this.files.length, `Loaded PDF ${i + 1}`);
        }

        let resultDoc;
        if (document.getElementById("mergePDF").checked && pdfDocs.length > 1) {
          resultDoc = await PDFLib.PDFDocument.create();
          for (const pdfDoc of pdfDocs) {
            const copiedPages = await resultDoc.copyPages(pdfDoc, pdfDoc.getPageIndices());
            copiedPages.forEach(p => resultDoc.addPage(p));
          }
        } else {
          resultDoc = pdfDocs[0];
        }

        this.updateProgress(50, "Processing...");
        if (document.getElementById("invertColors").checked) {
          // (Demo only: proper invert logic can be added here)
        }

        if (document.getElementById("splitPDF").checked) {
          const splitPage = parseInt(document.getElementById("splitPage").value);
          if (splitPage > 1 && splitPage <= resultDoc.getPageCount()) {
            for (let i = resultDoc.getPageCount() - 1; i >= splitPage - 1; i--) {
              resultDoc.removePage(i);
            }
          }
        }

        this.updateProgress(90, "Finalizing...");
        const pdfBytes = await resultDoc.save();
        this.processedPDF = pdfBytes;
        this.showPreview(pdfBytes);
        this.updateProgress(100, "Done!");
      }

      updateProgress(percent, text) {
        document.getElementById("progressBar").style.width = percent + "%";
        document.getElementById("progressText").textContent = text;
      }

      showPreview(pdfBytes) {
        const blob = new Blob([pdfBytes], { type: "application/pdf" });
        const url = URL.createObjectURL(blob);
        document.getElementById("preview").innerHTML =
          `<iframe src="${url}"></iframe><br><a class='btn' href="${url}" download="processed.pdf">‚¨áÔ∏è Download PDF</a>`;
      }
    }

    const pdfProcessor = new PDFProcessor();
  </script>
</body>
</html>
